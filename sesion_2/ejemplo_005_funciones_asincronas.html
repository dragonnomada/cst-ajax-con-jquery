<div style="display: flex; justify-content: space-between;">
    <button>Cargar im치genes</button>

    <div id="leyenda" hidden>游냋 Esperando...</div>
</div>

<br>

<div id="galeria"></div>

<script src="jquery-3.6.4.min.js"></script>

<script>

    // Funci칩n as칤ncrona:
    // Es capaz de ser esperada hasta que termine
    // Y es capaz de esperar a otras funciones (o promesas) hasta que terminen
    // async -> soy as칤ncrono (tienes que esperar mis resultados)
    // await -> esperalo (tienes que esperar los resultados de otro)
    async function randomPicture() {
        // VERSI칍N AS칈NCRONA DE AJAX
        // await ajax(url, options)

        const data = await $.ajax("https://randomuser.me/api?results=1")

        // El resultado que se qued칩 esperando algui칠n m치s
        return data.results[0].picture.large
    }

    async function descargarLoteImagenes(total) {
        const pictures = []

        for (let i = 0; i < total; i++) {
            const picture = await randomPicture()
            pictures.push(picture)
        }

        return pictures
    }

    $("button").click(async function () {
        $("#leyenda").show()
        
        const pictures = await descargarLoteImagenes(10)
        
        $("#leyenda").hide()

        pictures.forEach(function (picture) {
            $("<img>").attr("src", picture).appendTo("#galeria")
        })
    })

    // $("button").click(function () {
    //     $("#leyenda").show()
        
    //     descargarLoteImagenes(10).then(function (pictures) {
    //         $("#leyenda").hide()

    //         pictures.forEach(function (picture) {
    //             $("<img>").attr("src", picture).appendTo("#galeria")
    //         })
    //     })
    // })

</script>